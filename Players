import os

print ("Let's play Battleship! /n")

#Functions
def init_player(numship):
    ships = []
    Name = input("What is your name? /n")
    for ship in range(numship):
        row = int(input("What row do you want to put your ship in? /n"))-1
        while (row > 7) or (row < 0):
            print ("That's not in the ocean! Enter a number 1-8.")
            row = int(input("What row do you want to put your ship in? /n"))-1
        col = int(input("What column do you want to put your ship in? /n"))-1
        while (col > 7) or (col < 0):
            print ("That's not in the ocean! Enter a number 1-8.")
            col = int(input("What column do you want to put your ship in? /n"))-1
        ships.append([row, col])
    os.system('cls' if os.name == 'nt' else 'clear')
    return [Name, ships]


def make_board():
    for x in range(8):
        board.append(["O"] * 8)
    return board


def print_board(board):
    for row in board:
        print(" ".join(row))

#http://stackoverflow.com/questions/4843158/check-if-a-python-list-item-contains-a-string-inside-another-string
def attack_ship():
    for player in range(len(players)):
        ships_hit = 0
        num_ships = numship
        print ("Okay, " + str((players[player][0])) + ", it's your turn.")
        guess_row = str(int(input("Guess a row for " + str((players[player+1][0])) + "'s ship:"))-1)
        guess_col = str(int(input("Guess a column for " + str((players[player+1][0])) + "'s ship:"))-1)
        if (guess_row in players[player+1][1] for players[player+1][1] in players[player+1]) \
                and \
                (guess_col in players[player+1][1] for players[player+1][1] in players[player+1]):
            print ("You hit one!")
            print (str(ships_hit + 1) + " down, " + str(num_ships - 1) + " to go!")
            if ships_hit == numship:
                print ("You win!")
        elif (guess_row in players[player+1][1]) or (guess_col in players[player+1][1]):
            print ("One of those was right!")



#Initialize
num_players = int(input("How many people are playing? /n"))
numship = int(input("How many ships per player? /n"))
players = []
for player in range(num_players):
    players.append(init_player(numship))

for player in range(len(players)):
    board = []
    board = make_board()
    players[player].append(board)

#we're going to try to put an X on the board, where the ship is supposed to go.

#for player in range(len(players)):
#    print (players[player][0])
#    print (players[player][len(players[player])-1])



#attack ship
for player in range(len(players)):
    attack_ship()


# print (players[player])
#(players[player][numship+1])
#     for ship in range(len(ships)):
#        board[guess_row][guess_col] = "X"
